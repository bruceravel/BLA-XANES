<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Troubleshooting &mdash; Xray::BLA and Metis 3 documentation</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/metis_icon.ico"/>
    <link rel="top" title="Xray::BLA and Metis 3 documentation" href="../index.html" />
    <link rel="up" title="The bla program" href="index.html" />
    <link rel="next" title="The Metis program" href="../metis/index.html" />
    <link rel="prev" title="Tasks of the bla program" href="tasks.html" />

    <link rel="stylesheet" type="text/css" href="../_static/demeter.css" />
    <link rel="stylesheet" type="text/css" href="../_static/keys.css" />
    <link rel="stylesheet" type="text/css" href="../_static/program.css" />

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../metis/index.html" title="The Metis program"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="tasks.html" title="Tasks of the bla program"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Xray::BLA and Metis 3 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">The bla program</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="troubleshooting">
<h1>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this headline">¶</a></h1>
<div class="section" id="saving-masks-as-image-files">
<h2>Saving masks as image files<a class="headerlink" href="#saving-masks-as-image-files" title="Permalink to this headline">¶</a></h2>
<p>In order to save mask images, you may need to install some additional
software on your computer.  PDL uses the NetPBM package for image
format manipulation.  On Ubuntu, the package is called <code class="docutils literal"><span class="pre">netpbm</span></code> and
is likely already installed.  This is not installed by the Demeter
installer for Windows, so you have to install it separately.  Download
and install <a class="reference external" href="http://gnuwin32.sourceforge.net/packages/netpbm.htm">the NetPBM Windows installer</a>.</p>
<p>Note where the binaries get installed.  You must add that location to
the execution path.  This can be done at the Windows command prompt by</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="nb">set</span> <span class="nv">PATH</span><span class="o">=</span>%PATH%<span class="p">;</span>C:<span class="se">\G</span>nuWin32<span class="se">\b</span>in
</pre></div>
</div>
<p>substituting <code class="docutils literal"><span class="pre">C:\GnuWin32\bin</span></code> with the location on your computer.</p>
<p>Without NetPBM, an invocation of the <strong class="program">bla</strong> program with the
<code class="docutils literal"><span class="pre">-s</span></code> flag will not run to completion.</p>
</div>
<div class="section" id="error-checking">
<h2>Error checking<a class="headerlink" href="#error-checking" title="Permalink to this headline">¶</a></h2>
<p>The library is not particularly robust in terms of flagging problems.
You should not expect particularly useful error messages if the folders
in the configuration file are not correct or if you give an emission
energy value that was not measured as an elastic image. In those cases,
the program will almost certainly fail with some kind of stack trace,
but probably not with an immediately useful error message. To say this
another way, it's up to you to do file management sensibly.</p>
</div>
<div class="section" id="pdl-and-gnuplot">
<h2>PDL and Gnuplot<a class="headerlink" href="#pdl-and-gnuplot" title="Permalink to this headline">¶</a></h2>
<p>Apply <code class="docutils literal"><span class="pre">share/PGG/PGG.patch</span></code> to
<code class="docutils literal"><span class="pre">/usr/local/share/perl/5.20.2/PDL/Graphics/Gnuplot.pm</span></code> to suppress the
<code class="docutils literal"><span class="pre">Reading</span> <span class="pre">ras</span> <span class="pre">files</span> <span class="pre">from</span> <span class="pre">sequential</span> <span class="pre">devices</span> <span class="pre">not</span> <span class="pre">supported</span></code> warning when
using the qt terminal. This is a qt issue and appears to be of no
consequence.</p>
<p>Around line 3116 of <code class="docutils literal"><span class="pre">PDL::Graphics::Gnuplot</span></code>, add the following line:</p>
<div class="highlight-perl"><div class="highlight"><pre><span></span><span class="nv">$optionsWarnings</span> <span class="o">=-</span> <span class="sr">s/^Reading ras files from sequential devices not supported.*$//mg</span><span class="p">;</span>
<span class="nv">$optionsWarnings</span> <span class="o">=</span> <span class="s">&#39;&#39;</span> <span class="k">if</span><span class="p">(</span><span class="nv">$optionsWarnings</span> <span class="o">=-</span> <span class="sr">m/^\s+$/s</span><span class="p">);</span>
</pre></div>
</div>
<p>Similar near lines 3256, 3301.</p>
<p>Another solution is to replace <code class="docutils literal"><span class="pre">print</span> <span class="pre">STDERR</span></code> with <code class="docutils literal"><span class="pre">carp</span></code> at line
3116 and elsewhere.  If that is done, then Metis is instrumented to
handle terminal-related chatter a bit more gracefully.</p>

<br>

<br>
<hr class="docutils" />
<p><strong class="program">Xray::BLA</strong> and <font size=-1 color="#8C4112">METIS</font> are copyright ©
2011-2014, 2016 Bruce Ravel and Jeremy Kropf – This document is
copyright © 2016 Bruce Ravel</p>
<p>This document is licensed under <a class="reference external" href="http://creativecommons.org/licenses/by-sa/3.0/">The Creative Commons Attribution-ShareAlike License</a>.</p>
<p>If this software and its documentation are useful to you, please
consider <a class="reference external" href="http://creativecommons.org/support/">supporting The Creative Commons</a>.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/metis.png" alt="Logo"/>
            </a></p>
<h3><a href="../index.html">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../exp/index.html">The bent Laue experiment</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">The bla program</a></li>
<li class="toctree-l1"><a class="reference internal" href="../metis/index.html">The Metis program</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lib/index.html">Programming documentation</a></li>
</ul>
<h3>Helpful Links</h3>
<p>Current version: <b>3</b></p>

<ul>
  <li>&nbsp; &nbsp; <a href="https://github.com/bruceravel/BLA-XANES/">BLA @ github</a>
  <li>&nbsp; &nbsp; <a href="http://bruceravel.github.io/demeter/">Demeter homepage</a>
  <li>&nbsp; &nbsp; <a href="https://github.com/bruceravel/demeter/">Demeter @ github</a>
</ul>
<ul>
  <li>&nbsp; &nbsp; <a href="http://bruceravel.github.io/demeter/documents/SinglePage/bugs.html">Bug reporting hints</a>
  <li>&nbsp; &nbsp; <a href="http://bruceravel.github.io/demeter/documents/SinglePage/help.html">How to ask a good question</a>
</ul>
<p>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/bla/troubleshoot.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../metis/index.html" title="The Metis program"
             >next</a> |</li>
        <li class="right" >
          <a href="tasks.html" title="Tasks of the bla program"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Xray::BLA and Metis 3 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >The bla program</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2016, Bruce Ravel.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.3.
    </div>
  </body>
</html>